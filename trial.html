<head>
    
  <!-- Meta Tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="theme-color" content="#000000">
  <meta name="msapplication-TileColor" content="#000000">


  <!-- Page Title -->
  <title>New York City Airbnb</title>

  <!-- Stylesheet 
  <link href="http://www.fabiolamanna.it/assets/css/main.min.css?v=2" rel="stylesheet">
link href="http://www.fabiolamanna.it/assets/css/main.min.css?v=2" rel="stylesheet">-->
<link rel="stylesheet" type="text/css" href="main.min.css">
  <link rel="stylesheet" href="https://js.arcgis.com/4.21/esri/css/main.css">
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
 <style>
  #chart-container {
    width: 100%;
    height: 500px;
  }
  #chart-container2 {
    width: 100%;
    height: 500px;
  }
</style>
 <!-- Load AMD modules: the application itself and D3  -->
  <script>
      var locationPath = location.pathname.replace(/\/[^\/]+$/, "");
      var dojoConfig = {
      packages: [{
          name: "d3",
          location: locationPath + "/lib",
          main: "d3"
      }, {
          name: "app",
          location: locationPath + "/app"
      }],
      async: true
      };
  </script>
  <!-- ArcGIS JavaScript API 4.21  -->
  <script src="https://js.arcgis.com/4.21/"></script>

  <!-- load Galleria and JQuery for the image gallery -->
  <script src="./lib/jquery.js"></script>
  <script src="./lib/galleria/galleria.js"></script>
  <script>
    var locationPath = location.pathname.replace(/\/[^\/]+$/, "");
    var dojoConfig = {
    packages: [{
        name: "d3",
        location: locationPath + "/lib",
        main: "d3"
    }, {
        name: "app",
        location: locationPath + "/app"
    }],
    async: true
    };
</script>
<!-- ArcGIS JavaScript API 4.21  -->
<script src="https://js.arcgis.com/4.21/"></script>

<!-- load Galleria and JQuery for the image gallery -->
<script src="./lib/jquery.js"></script>
<script src="./lib/galleria/galleria.js"></script>
<script>
require([
  "app/Application",
  "dojo/domReady!"
], function (Application) {

  var settings = {
    ageClasses: [
      { minValue: 1900, maxValue: 1924, color: [153, 167, 204] },
      { minValue: 1925, maxValue: 1949, color: [149, 184, 214] },
      { minValue: 1950, maxValue: 1974, color: [153, 204, 203] },
      { minValue: 1975, maxValue: 1999, color: [153, 204, 179] },
      { minValue: 2000, maxValue: 2024, color: [175, 206, 152] }
    ],
    defaultColor: [230, 230, 230, 1],
    highlightOptions: {
      color: [255, 255, 0, 1],
      fillOpacity: 0.4
    },
    buildingOptions: {
      minHeight: 0,
      maxHeight: 1500,
      minCnstrctYear: 1900,
      maxCnstrctYear: 2024
    },
    initPeriod: [true, true, true, true, true],
    categories: [{
      value: "all",
      text: "Show all buildings"
    }, {
      value: "info",
      text: "Only annotated buildings"
    }, {
      value: "top",
      text: "Top 20 buildings"
    }],
    initCategory: "all",
    infoPointsUrl: "https://services2.arcgis.com/cFEFS0EWrhfDeVw9/ArcGIS/rest/services/Centroids_Manhattan_Information/FeatureServer/0",
    buildingsUrl: "https://tiles.arcgis.com/tiles/cFEFS0EWrhfDeVw9/arcgis/rest/services/Buildings_Manhattan/SceneServer"
  };

  // initialize application
  var app = new Application(settings);
  // app.init({ view: "viewDiv", timeline: "timeDiv", heightGraph: "heightDiv", categories: "categoryDiv" });
  app.init({ view: "viewDiv", timeline: "timeDiv", heightGraph: "heightDiv", categories: "categoryDiv" });
});
</script>

</head>
<body class="home"><section class="intro">
  <div id="particles-js">
    <!-- scripts -->
    <script src="./app/particles.js"></script>
    <script src="./js/app.js"></script>
</div>
</section><main>

  <!-- Bio Block -->
  <section class="bio">
      <h1 class="bio-title">Exploring the Airbnb market in New York City in 2019</h1>
      
      <div class="bio-content-full"><p>We plan to build a user-friendly and aesthetically pleasing web page that is based on historical Airbnb data.</p><p>By mainly implementing a 3D interactive map of the region of 
  interest, which incorporates the colored map of the 3D city with different layers of information, we hope to present an intuitive way to demonstrate the data for users with
  different needs.</p><p>Our motivation is that, firstly, we think the traditional 2D view of Airbnb's official website is neither intuitive nor informative, and we want to create a different
  visualization that not only contains denser information but is also easy for the users to get a total understanding of the Airbnb market in the region.</p></div>
  
  </section>

      <section class="2dmap">
        <div class="container">
      <h1 class="portfolio-title">New York City Boroughs</h1>
  <div class="bio-content"<p> New York City is composed of five main boroughs: Staten Island, Bronx, Manhattan, Brooklyn and Queens. </p>
   <p> We see that Queens is the biggest in terms of Actual area size, while Manhattan is the smallest. </p>
   <p> Even though Manhattan is the smallest in size, it actually contains the highest number of Airbnb listings. As we can see, the majority of Airbnb listings are concentrated in Manhattan and Brooklyn. </p>
   <p> Manhattan is also the most expensive neighbourhood to stay in, with the price per night averaging around 197 USD per night. On the contrary, the Bronx is the most affordable neighbourhood with the average Airbnb accomodation listed for 87 USD. </p>
  </div>
  <div class = "left-half">
  <svg id="map" width="1600" height="1100" ></svg>
  <div id="buttons">
    <button class="button button1" id="scale1">Actual Area</button>
    <button class="button button2" id="scale2">Num. Posts</button>
    <button class="button button3" id="scale3">Avg. Price</button>
  </div>
</div>
  
</div>

  <script src="src/2D_map.js"></script>
</section>

<section class="sankey">
  <div class="container2">
<h1 class="portfolio-title">Sankey Chart</h1>
<div class="bio-content"<p> New York City is composed of five main boroughs: Staten Island, Bronx, Manhattan, Brooklyn and Queens. </p>
   <p> We see that Queens is the biggest in terms of Actual area size, while Manhattan is the smallest. </p>
   <p> Even though Manhattan is the smallest in size, it actually contains the highest number of Airbnb listings. As we can see, the majority of Airbnb listings are concentrated in Manhattan and Brooklyn. </p>
   <p> Manhattan is also the most expensive neighbourhood to stay in, with the price per night averaging around 197 USD per night. On the contrary, the Bronx is the most affordable neighbourhood with the average Airbnb accomodation listed for 87 USD. </p>
  </div>
<div class = "left-half">
  <div id="chart-container"></div>
</div>
<script src="src/Sankey.js"></script>
</div>
 </section>
  

 <section class="scatter plot">
    
<h1 class="portfolio-title-full">Princing & Reviews</h1>
<div class="bio-content-full"<p> The data is divided by 20th quantile. For every district, 20 groups are formed and ploted.</p>
   <p> The size of each dot corresponds to the number of records in each group. Bigger the dot, larger the number.</p>
   <p> On this plot, we can observe that the higher the price the lower the reviews. This applies to most regions except for Brooklyn.</p>
  </div>
<div id="chart-container2"></div>
<script src="src/Scatter.js"></script>
 </section>
    
    <section class="3dmap">
      <div class="container">
<h1 class="portfolio-title">3D Map of New York City</h1>
<div class="bio-content"<p> On this map, we can see the entire city of New York, with all the buildings it has in real-life.  </p>
   <p> The little arrows correspond to the exact locations of the Airbnb listings.</p>
   <p> Feel free to explore it! </p>
      </div>
          <div class = "left-half">
              <div id="viewDiv"></div>
      <div class="esri-ui-top-right esri-ui-corner">
          <div id="topbar" class="esri-component">
              <button class="action-button esri-icon-minus" id="distanceButton" type="button" title="Measure distance between two points"></button>
              <button class="action-button esri-icon-polygon" id="areaButton" type="button" title="Measure area"></button>
          </div>
      </div>
          </div>
      </div>
 </section>

  </main>    <footer class="footer">
      <div id="particles2"><canvas class="particles-js-canvas-el" width="1127" height="835" style="width: 100%; height: 100%;"></canvas></div>
      <div class="inner">
          <div class="content">
              <small>Xianzhi Team</small>
              <small>Copyright 2023<br></small>
              <svg class="mark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 97 98"><path fill="#FFF" fill-rule="evenodd" d="M92.914 77.073c-.336 0-.662.046-.975.128L78.898 45.888l6.83-18.208c.273.059.555.094.84.094 2.158 0 3.906-1.749 3.906-3.905 0-2.157-1.748-3.905-3.906-3.905-1.076 0-2.051.438-2.758 1.145L64.619 6.695c.301-.554.473-1.188.473-1.861 0-2.156-1.75-3.904-3.904-3.904s-3.904 1.748-3.904 3.904c0 1.073.434 2.043 1.135 2.75L44.028 26.791c-.557-.305-1.195-.479-1.875-.479-1.334 0-2.506.666-3.209 1.683l-18.471-9.237c.127-.388.199-.802.199-1.232 0-2.158-1.748-3.904-3.902-3.904-2.156 0-3.904 1.746-3.904 3.904 0 1.527.881 2.848 2.158 3.489L4.776 51.76c-.227-.041-.459-.066-.697-.066-2.158 0-3.904 1.748-3.904 3.904 0 2.156 1.746 3.903 3.904 3.903 1.572 0 2.922-.929 3.543-2.267l16.008 4.795 4.654 27.919c-1.58.501-2.727 1.978-2.727 3.724 0 2.155 1.748 3.903 3.902 3.903 2.158 0 3.902-1.748 3.902-3.903 0-1.254-.592-2.366-1.508-3.079l12.734-22.284 19.09 5.717c-.029.189-.049.383-.049.582 0 2.156 1.746 3.904 3.904 3.904 2.156 0 3.904-1.748 3.904-3.904 0-1.478-.818-2.764-2.029-3.427l2.594-6.912L89.595 78.93c-.367.597-.586 1.299-.586 2.049 0 2.157 1.75 3.903 3.904 3.903 2.156 0 3.906-1.746 3.906-3.903.001-2.158-1.749-3.906-3.905-3.906zM78.277 44.401l-4.123-9.896 9.744-7.795c.24.227.506.425.799.583l-6.42 17.108zM7.841 54.569c-.062-.228-.145-.448-.244-.657l13.211-8.807 1.279 7.684-14.246 1.78zm13.973-10.134l17.432-11.621c.715.798 1.75 1.304 2.906 1.304 2.156 0 3.902-1.748 3.902-3.904l11.178-1.597-2.391 16.729c-2.133 0-3.865 1.713-3.9 3.836l-27.76 3.471-1.367-8.218zM61.187 8.736c.342 0 .67-.049.986-.131l7.152 17.17-10.795 1.541 2.654-18.58h.003zm8.572 18.089l3.059 7.338-15.305 12.245c-.443-.416-.98-.729-1.578-.905l2.432-17.049 11.392-1.629zm13.451-.975l-9.498 7.597-2.822-6.782 11.934-1.705c.09.315.22.614.386.89zM51.08 50.277c.225.824.713 1.54 1.369 2.053l-8.385 14.668-19.461-5.83-1.24-7.428 27.717-3.463zm7.123-3.009L73.26 35.222l4.453 10.687-6.199 16.518L58.162 51.3c.367-.597.584-1.297.584-2.049 0-.726-.2-1.401-.543-1.983zm24.943-25.279c-.305.557-.48 1.197-.48 1.879v.002l-12.213 1.743-7.264-17.435c.283-.169.545-.368.773-.603l19.184 14.414zM59.298 8.247c.248.138.514.249.791.331l-2.695 18.9-11.496 1.643c-.188-.639-.529-1.213-.99-1.67l14.39-19.204zM38.451 28.979c-.131.388-.203.802-.203 1.233 0 .604.141 1.175.385 1.684L21.615 43.242l-3.666-21.997c.83-.264 1.543-.799 2.027-1.501l18.475 9.235zM16.07 21.361c.229.041.461.064.699.064.029 0 .061-.002.09-.003l3.75 22.489-13.625 9.084c-.326-.364-.719-.668-1.162-.889L16.07 21.361zM7.933 56.176c.025-.17.043-.338.045-.512l14.293-1.788 1.156 6.94-15.494-4.64zm22.963 33.865c-.445-.178-.928-.276-1.438-.276-.029 0-.061.005-.09.005l-4.564-27.39 18.699 5.602-12.607 22.059zm37.477-19.247c-.27-.06-.549-.092-.84-.092-1.57 0-2.922.927-3.539 2.267L45.15 67.324l8.256-14.448c.441.178.928.278 1.436.278 1.006 0 1.92-.383 2.611-1.01l13.65 11.375-2.73 7.275zm9.959-23.398l12.59 30.228c-.223.134-.432.286-.619.46L72.41 63.172l5.922-15.776z"></path></svg>
          </div>
      </div>
  </footer>
  <script src="http://www.fabiolamanna.it/assets/js/particles.min.js"></script>    <script src="http://www.fabiolamanna.it/assets/js/main.min.js"></script>

</body>
</html>
